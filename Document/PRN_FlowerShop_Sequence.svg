<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1545px" preserveAspectRatio="none" style="width:1533px;height:1545px;background:#FFFFFF;" version="1.1" viewBox="0 0 1533 1545" width="1533px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1533.6563" style="stroke:#181818;stroke-width:0.5;" width="504.5" x="26" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139" x="208.75" y="18.0669">Presentation Layer</text><rect fill="#FFFFE0" height="1533.6563" style="stroke:#181818;stroke-width:0.5;" width="361" x="600.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="110" x="726" y="18.0669">Business Layer</text><rect fill="#90EE90" height="1533.6563" style="stroke:#181818;stroke-width:0.5;" width="547" x="963.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="1197" y="18.0669">Data Layer</text><rect fill="#FFFFFF" height="1429.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="77.5" y="66.4297"/><rect fill="#FFFFFF" height="1142.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="317.5" y="353.7578"/><rect fill="#FFFFFF" height="1068.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="471.5" y="426.8281"/><rect fill="#FFFFFF" height="223.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="647.5" y="130.6953"/><rect fill="#FFFFFF" height="128.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="772.5" y="599.1641"/><rect fill="#FFFFFF" height="313" style="stroke:#181818;stroke-width:1.0;" width="10" x="772.5" y="798.0938"/><rect fill="#FFFFFF" height="313" style="stroke:#181818;stroke-width:1.0;" width="10" x="901" y="1182.3594"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="159.8281"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1171.5" y="628.2969"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1171.5" y="827.2266"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324" y="1211.4922"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="188.9609"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="657.4297"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="856.3594"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="1240.625"/><rect fill="none" height="265.6719" style="stroke:#000000;stroke-width:1.5;" width="710.5" x="10" y="262.2266"/><rect fill="#90EE90" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="690.5" x="20" y="286.3594"/><rect fill="#ADD8E6" height="73.0703" style="stroke:none;stroke-width:1.0;" width="690.5" x="20" y="361.7578"/><rect fill="#FFC0CB" height="86.0703" style="stroke:none;stroke-width:1.0;" width="710.5" x="10" y="441.8281"/><rect fill="#90EE90" height="351.2656" style="stroke:#000000;stroke-width:1.5;" width="1269.5" x="247" y="759.8281"/><rect fill="#FFC0CB" height="174.4688" style="stroke:#000000;stroke-width:1.5;" width="597.5" x="257" y="929.625"/><rect fill="#90EE90" height="86.0703" style="stroke:none;stroke-width:1.0;" width="597.5" x="257" y="1018.0234"/><rect fill="#FFC0CB" height="174.4688" style="stroke:#000000;stroke-width:1.5;" width="551" x="416.5" y="1313.8906"/><rect fill="#90EE90" height="86.0703" style="stroke:none;stroke-width:1.0;" width="551" x="416.5" y="1402.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="82" x2="82" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="322" x2="322" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="476.5" x2="476.5" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="652.5" x2="652.5" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="777.5" x2="777.5" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="905.5" x2="905.5" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1027.5" x2="1027.5" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1176.5" x2="1176.5" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1328.5" x2="1328.5" y1="56.4297" y2="1505.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1454.5" x2="1454.5" y1="56.4297" y2="1505.3594"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="30" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="37" y="45.1279">LoginWindow</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="30" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="37" y="1524.3545">LoginWindow</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="267" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="274" y="45.1279">AdminWindow</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="267" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="274" y="1524.3545">AdminWindow</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="426.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="433.5" y="45.1279">UserWindow</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="426.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="433.5" y="1524.3545">UserWindow</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="604.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="611.5" y="45.1279">UserService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="604.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="611.5" y="1524.3545">UserService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="710.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="717.5" y="45.1279">FlowerInfoService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="710.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="717.5" y="1524.3545">FlowerInfoService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="854.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="861.5" y="45.1279">OrderService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="854.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="861.5" y="1524.3545">OrderService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="967.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="974.5" y="45.1279">UserRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="967.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="974.5" y="1524.3545">UserRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1097.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1104.5" y="45.1279">FlowerInfoRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1097.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="1104.5" y="1524.3545">FlowerInfoRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="1265.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1272.5" y="45.1279">OrderRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="1265.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1272.5" y="1524.3545">OrderRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1402.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1409.5" y="45.1279">ShopContext</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="1402.5" y="1504.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="1409.5" y="1524.3545">ShopContext</text><rect fill="#FFFFFF" height="1429.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="77.5" y="66.4297"/><rect fill="#FFFFFF" height="1142.6016" style="stroke:#181818;stroke-width:1.0;" width="10" x="317.5" y="353.7578"/><rect fill="#FFFFFF" height="1068.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="471.5" y="426.8281"/><rect fill="#FFFFFF" height="223.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="647.5" y="130.6953"/><rect fill="#FFFFFF" height="128.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="772.5" y="599.1641"/><rect fill="#FFFFFF" height="313" style="stroke:#181818;stroke-width:1.0;" width="10" x="772.5" y="798.0938"/><rect fill="#FFFFFF" height="313" style="stroke:#181818;stroke-width:1.0;" width="10" x="901" y="1182.3594"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1022.5" y="159.8281"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1171.5" y="628.2969"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1171.5" y="827.2266"/><rect fill="#FFFFFF" height="70.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324" y="1211.4922"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="188.9609"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="657.4297"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="856.3594"/><rect fill="#FFFFFF" height="12" style="stroke:#181818;stroke-width:1.0;" width="10" x="1449.5" y="1240.625"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1526.5" x="0" y="86.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1526.5" y1="86.9961" y2="86.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1526.5" y1="89.9961" y2="89.9961"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="165" x="680.75" y="76.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146" x="686.75" y="92.4966">Authentication Flow</text><polygon fill="#181818" points="635.5,126.6953,645.5,130.6953,635.5,134.6953,639.5,130.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="641.5" y1="130.6953" y2="130.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="217.5" y="125.6294">getUserByEmailAndPassword(email, password)</text><polygon fill="#181818" points="1010.5,155.8281,1020.5,159.8281,1010.5,163.8281,1014.5,159.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="657.5" x2="1016.5" y1="159.8281" y2="159.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="690.5" y="154.7622">getUserbyEmailAndPassword(email, password)</text><polygon fill="#181818" points="1437.5,184.9609,1447.5,188.9609,1437.5,192.9609,1441.5,188.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1443.5" y1="188.9609" y2="188.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1205" y="183.895">Query User</text><polygon fill="#181818" points="1043.5,196.9609,1033.5,200.9609,1043.5,204.9609,1039.5,200.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1037.5" x2="1453.5" y1="200.9609" y2="200.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1211" y="214.0278">User Data</text><polygon fill="#181818" points="668.5,226.0938,658.5,230.0938,668.5,234.0938,664.5,230.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="662.5" x2="1026.5" y1="230.0938" y2="230.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="805" y="243.1606">User Object</text><path d="M10,262.2266 L74,262.2266 L74,269.3594 L64,279.3594 L10,279.3594 L10,262.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="265.6719" style="stroke:#000000;stroke-width:1.5;" width="710.5" x="10" y="262.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="275.2935">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="83" x="89" y="274.437">[User Found]</text><path d="M20,286.3594 L84,286.3594 L84,293.4922 L74,303.4922 L20,303.4922 L20,286.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="148.4688" style="stroke:#000000;stroke-width:1.5;" width="690.5" x="20" y="286.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="299.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103" x="99" y="298.5698">[Role == Admin]</text><polygon fill="#181818" points="98.5,303.4922,88.5,307.4922,98.5,311.4922,94.5,307.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="646.5" y1="307.4922" y2="307.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="307" y="320.5591">Return Admin User</text><polygon fill="#181818" points="305.5,349.7578,315.5,353.7578,305.5,357.7578,309.5,353.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="311.5" y1="353.7578" y2="353.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="97" y="348.6919">Open AdminManagementWindow</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="710.5" y1="362.7578" y2="362.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="125" x="25" y="372.9683">[Role == Customer]</text><polygon fill="#181818" points="98.5,376.5625,88.5,380.5625,98.5,384.5625,94.5,380.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="651.5" y1="380.5625" y2="380.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="298.5" y="393.6294">Return Customer User</text><polygon fill="#181818" points="459.5,422.8281,469.5,426.8281,459.5,430.8281,463.5,426.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="87.5" x2="465.5" y1="426.8281" y2="426.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="195.5" y="421.7622">Open FlowerProductListing</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="720.5" y1="442.8281" y2="442.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109" x="15" y="453.0386">[User Not Found]</text><polygon fill="#181818" points="98.5,456.6328,88.5,460.6328,98.5,464.6328,94.5,460.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92.5" x2="651.5" y1="460.6328" y2="460.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="359" y="473.6997">null</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="87.5" x2="129.5" y1="511.8984" y2="511.8984"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="129.5" x2="129.5" y1="511.8984" y2="524.8984"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="82.5" x2="129.5" y1="524.8984" y2="524.8984"/><polygon fill="#181818" points="92.5,520.8984,82.5,524.8984,92.5,528.8984,88.5,524.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="94.5" y="506.8325">Show Error Message</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1526.5" x="0" y="555.4648"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1526.5" y1="555.4648" y2="555.4648"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1526.5" y1="558.4648" y2="558.4648"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="282" x="622.25" y="544.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="263" x="628.25" y="560.9653">Product Management Flow (Admin)</text><polygon fill="#181818" points="760.5,595.1641,770.5,599.1641,760.5,603.1641,764.5,599.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="327.5" x2="766.5" y1="599.1641" y2="599.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="502.5" y="594.0981">GetAllFlowers()</text><polygon fill="#181818" points="1159.5,624.2969,1169.5,628.2969,1159.5,632.2969,1163.5,628.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="782.5" x2="1165.5" y1="628.2969" y2="628.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="910.5" y="623.231">GetAllWithCategory()</text><polygon fill="#181818" points="1437.5,653.4297,1447.5,657.4297,1437.5,661.4297,1441.5,657.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1181.5" x2="1443.5" y1="657.4297" y2="657.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1219" y="652.3638">Query FlowerInfo + Categories</text><polygon fill="#181818" points="1192.5,665.4297,1182.5,669.4297,1192.5,673.4297,1188.5,669.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1186.5" x2="1453.5" y1="669.4297" y2="669.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1280.5" y="682.4966">Flower Data</text><polygon fill="#181818" points="793.5,694.5625,783.5,698.5625,793.5,702.5625,789.5,698.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="787.5" x2="1175.5" y1="698.5625" y2="698.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="926" y="711.6294">List&lt;FlowerInfo&gt;</text><polygon fill="#181818" points="338.5,723.6953,328.5,727.6953,338.5,731.6953,334.5,727.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332.5" x2="776.5" y1="727.6953" y2="727.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="519.5" y="740.7622">Flower List</text><path d="M247,759.8281 L311,759.8281 L311,766.9609 L301,776.9609 L247,776.9609 L247,759.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="351.2656" style="stroke:#000000;stroke-width:1.5;" width="1269.5" x="247" y="759.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="262" y="772.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="326" y="772.0386">[Add/Update Flower]</text><polygon fill="#181818" points="760.5,794.0938,770.5,798.0938,760.5,802.0938,764.5,798.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="327.5" x2="766.5" y1="798.0938" y2="798.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="448.5" y="793.0278">AddFlower/UpdateFlower(flower)</text><polygon fill="#181818" points="1159.5,823.2266,1169.5,827.2266,1159.5,831.2266,1163.5,827.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="782.5" x2="1165.5" y1="827.2266" y2="827.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="915.5" y="822.1606">Add/Update(flower)</text><polygon fill="#181818" points="1437.5,852.3594,1447.5,856.3594,1437.5,860.3594,1441.5,856.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1181.5" x2="1443.5" y1="856.3594" y2="856.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1269.5" y="851.2935">Save Changes</text><polygon fill="#181818" points="1192.5,864.3594,1182.5,868.3594,1192.5,872.3594,1188.5,868.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1186.5" x2="1453.5" y1="868.3594" y2="868.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1274" y="881.4263">Success/Error</text><polygon fill="#181818" points="793.5,893.4922,783.5,897.4922,793.5,901.4922,789.5,897.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="787.5" x2="1175.5" y1="897.4922" y2="897.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="960" y="910.5591">Result</text><path d="M257,929.625 L321,929.625 L321,936.7578 L311,946.7578 L257,946.7578 L257,929.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="174.4688" style="stroke:#000000;stroke-width:1.5;" width="597.5" x="257" y="929.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="272" y="942.6919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89" x="336" y="941.8354">[Error Occurs]</text><polygon fill="#181818" points="338.5,946.7578,328.5,950.7578,338.5,954.7578,334.5,950.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332.5" x2="771.5" y1="950.7578" y2="950.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="519" y="963.8247">Exception</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327.5" x2="369.5" y1="997.0234" y2="997.0234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="369.5" x2="369.5" y1="997.0234" y2="1010.0234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328.5" x2="369.5" y1="1010.0234" y2="1010.0234"/><polygon fill="#181818" points="338.5,1006.0234,328.5,1010.0234,338.5,1014.0234,334.5,1010.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="334.5" y="991.9575">Show Error Message</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="257" x2="854.5" y1="1019.0234" y2="1019.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="62" x="262" y="1029.2339">[Success]</text><polygon fill="#181818" points="338.5,1032.8281,328.5,1036.8281,338.5,1040.8281,334.5,1036.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332.5" x2="771.5" y1="1036.8281" y2="1036.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="523.5" y="1049.895">Success</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="327.5" x2="369.5" y1="1083.0938" y2="1083.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="369.5" x2="369.5" y1="1083.0938" y2="1096.0938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="328.5" x2="369.5" y1="1096.0938" y2="1096.0938"/><polygon fill="#181818" points="338.5,1092.0938,328.5,1096.0938,338.5,1100.0938,334.5,1096.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="334.5" y="1078.0278">Refresh Display</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1526.5" x="0" y="1138.6602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1526.5" y1="1138.6602" y2="1138.6602"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1526.5" y1="1141.6602" y2="1141.6602"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="236" x="645.25" y="1128.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="217" x="651.25" y="1144.1606">Order Processing Flow (User)</text><polygon fill="#181818" points="889,1178.3594,899,1182.3594,889,1186.3594,893,1182.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="481.5" x2="895" y1="1182.3594" y2="1182.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="638.75" y="1177.2935">AddOrder(order)</text><polygon fill="#181818" points="1312,1207.4922,1322,1211.4922,1312,1215.4922,1316,1211.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="911" x2="1318" y1="1211.4922" y2="1211.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1065" y="1206.4263">AddOrder(order)</text><polygon fill="#181818" points="1437.5,1236.625,1447.5,1240.625,1437.5,1244.625,1441.5,1240.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1443.5" y1="1240.625" y2="1240.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1353.75" y="1235.5591">Insert Order</text><polygon fill="#181818" points="1345,1248.625,1335,1252.625,1345,1256.625,1341,1252.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1339" x2="1453.5" y1="1252.625" y2="1252.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1367.75" y="1265.6919">Order ID</text><polygon fill="#181818" points="922,1277.7578,912,1281.7578,922,1285.7578,918,1281.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="916" x2="1328" y1="1281.7578" y2="1281.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="1076" y="1294.8247">Success/Error</text><path d="M416.5,1313.8906 L480.5,1313.8906 L480.5,1321.0234 L470.5,1331.0234 L416.5,1331.0234 L416.5,1313.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="174.4688" style="stroke:#000000;stroke-width:1.5;" width="551" x="416.5" y="1313.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="431.5" y="1326.9575">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="156" x="495.5" y="1326.1011">[Error in Order Creation]</text><polygon fill="#181818" points="492.5,1331.0234,482.5,1335.0234,492.5,1339.0234,488.5,1335.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="900" y1="1335.0234" y2="1335.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="660.25" y="1348.0903">Exception</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="481.5" x2="523.5" y1="1381.2891" y2="1381.2891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523.5" x2="523.5" y1="1381.2891" y2="1394.2891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="482.5" x2="523.5" y1="1394.2891" y2="1394.2891"/><polygon fill="#181818" points="492.5,1390.2891,482.5,1394.2891,492.5,1398.2891,488.5,1394.2891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="488.5" y="1376.2231">Show Error Message</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="416.5" x2="967.5" y1="1403.2891" y2="1403.2891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="185" x="421.5" y="1413.4995">[Order Created Successfully]</text><polygon fill="#181818" points="492.5,1417.0938,482.5,1421.0938,492.5,1425.0938,488.5,1421.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="486.5" x2="900" y1="1421.0938" y2="1421.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="630.25" y="1434.1606">Order Confirmation</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="481.5" x2="523.5" y1="1467.3594" y2="1467.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="523.5" x2="523.5" y1="1467.3594" y2="1480.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="482.5" x2="523.5" y1="1480.3594" y2="1480.3594"/><polygon fill="#181818" points="492.5,1476.3594,482.5,1480.3594,492.5,1484.3594,488.5,1480.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="488.5" y="1462.2935">Show Success Message</text><!--MD5=[29b1df685eaa88e96eb143ea3d15f32a]
@startuml
skinparam sequenceMessageAlign center
skinparam responseMessageBelowArrow true

box "Presentation Layer" #LightBlue
participant "LoginWindow" as UI
participant "AdminWindow" as AdminUI
participant "UserWindow" as UserUI
end box

box "Business Layer" #LightYellow
participant "UserService" as UserSvc
participant "FlowerInfoService" as FlowerSvc
participant "OrderService" as OrderSvc
end box

box "Data Layer" #LightGreen
participant "UserRepository" as UserRepo
participant "FlowerInfoRepository" as FlowerRepo
participant "OrderRepository" as OrderRepo
participant "ShopContext" as DB
end box

== Authentication Flow ==
activate UI
UI -> UserSvc: getUserByEmailAndPassword(email, password)
activate UserSvc
UserSvc -> UserRepo: getUserbyEmailAndPassword(email, password)
activate UserRepo
UserRepo -> DB: Query User
activate DB
DB - -> UserRepo: User Data
deactivate DB
UserRepo - -> UserSvc: User Object
deactivate UserRepo

alt User Found
    alt #LightGreen Role == Admin
        UserSvc - -> UI: Return Admin User
        UI -> AdminUI: Open AdminManagementWindow
        deactivate UserSvc
        activate AdminUI
    else #LightBlue Role == Customer
        UserSvc - -> UI: Return Customer User
        UI -> UserUI: Open FlowerProductListing
        deactivate UserSvc
        activate UserUI
    end
else #Pink User Not Found
    UserSvc - -> UI: null
    UI - -> UI: Show Error Message
    deactivate UserSvc
end

== Product Management Flow (Admin) ==
AdminUI -> FlowerSvc: GetAllFlowers()
activate FlowerSvc
FlowerSvc -> FlowerRepo: GetAllWithCategory()
activate FlowerRepo
FlowerRepo -> DB: Query FlowerInfo + Categories
activate DB
DB - -> FlowerRepo: Flower Data
deactivate DB
FlowerRepo - -> FlowerSvc: List<FlowerInfo>
deactivate FlowerRepo
FlowerSvc - -> AdminUI: Flower List
deactivate FlowerSvc

alt #LightGreen Add/Update Flower
    AdminUI -> FlowerSvc: AddFlower/UpdateFlower(flower)
    activate FlowerSvc
    FlowerSvc -> FlowerRepo: Add/Update(flower)
    activate FlowerRepo
    FlowerRepo -> DB: Save Changes
    activate DB
    DB - -> FlowerRepo: Success/Error
    deactivate DB
    FlowerRepo - -> FlowerSvc: Result
    deactivate FlowerRepo
    
    alt #Pink Error Occurs
        FlowerSvc - -> AdminUI: Exception
        AdminUI - -> AdminUI: Show Error Message
    else #LightGreen Success
        FlowerSvc - -> AdminUI: Success
        AdminUI - -> AdminUI: Refresh Display
    end
    deactivate FlowerSvc
end

== Order Processing Flow (User) ==
UserUI -> OrderSvc: AddOrder(order)
activate OrderSvc
OrderSvc -> OrderRepo: AddOrder(order)
activate OrderRepo
OrderRepo -> DB: Insert Order
activate DB
DB - -> OrderRepo: Order ID
deactivate DB
OrderRepo - -> OrderSvc: Success/Error
deactivate OrderRepo

alt #Pink Error in Order Creation
    OrderSvc - -> UserUI: Exception
    UserUI - -> UserUI: Show Error Message
else #LightGreen Order Created Successfully
    OrderSvc - -> UserUI: Order Confirmation
    UserUI - -> UserUI: Show Success Message
end
deactivate OrderSvc
deactivate UserUI
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>